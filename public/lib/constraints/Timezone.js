module.exports = function (nit, Self)
{
    return (Self = nit.defineConstraint ("Timezone"))
        .throws ("error.invalid_timezone", "The timezone '%{value}' is invalid.")
        .staticMemo ("TIMEZONES", function ()
        {
            return Intl.supportedValuesOf ("timeZone").concat (
            [
                "Africa/Asmara",
                "Africa/Timbuktu",
                "America/Argentina/Buenos_Aires",
                "America/Argentina/Catamarca",
                "America/Argentina/ComodRivadavia",
                "America/Argentina/Cordoba",
                "America/Argentina/Jujuy",
                "America/Argentina/Mendoza",
                "America/Atikokan",
                "America/Atka",
                "America/Ensenada",
                "America/Fort_Wayne",
                "America/Indiana/Indianapolis",
                "America/Kentucky/Louisville",
                "America/Knox_IN",
                "America/Montreal",
                "America/Nuuk",
                "America/Porto_Acre",
                "America/Rosario",
                "America/Shiprock",
                "America/Virgin",
                "Antarctica/South_Pole",
                "Asia/Ashkhabad",
                "Asia/Chongqing",
                "Asia/Chungking",
                "Asia/Dacca",
                "Asia/Harbin",
                "Asia/Ho_Chi_Minh",
                "Asia/Istanbul",
                "Asia/Kashgar",
                "Asia/Kathmandu",
                "Asia/Kolkata",
                "Asia/Macao",
                "Asia/Tel_Aviv",
                "Asia/Thimbu",
                "Asia/Ujung_Pandang",
                "Asia/Ulan_Bator",
                "Asia/Yangon",
                "Atlantic/Faroe",
                "Atlantic/Jan_Mayen",
                "Australia/ACT",
                "Australia/Canberra",
                "Australia/LHI",
                "Australia/NSW",
                "Australia/North",
                "Australia/Queensland",
                "Australia/South",
                "Australia/Tasmania",
                "Australia/Victoria",
                "Australia/West",
                "Australia/Yancowinna",
                "Brazil/Acre",
                "Brazil/DeNoronha",
                "Brazil/East",
                "Brazil/West",
                "CET",
                "CST6CDT",
                "Canada/Atlantic",
                "Canada/Central",
                "Canada/Eastern",
                "Canada/Mountain",
                "Canada/Newfoundland",
                "Canada/Pacific",
                "Canada/Saskatchewan",
                "Canada/Yukon",
                "Chile/Continental",
                "Chile/EasterIsland",
                "Cuba",
                "EET",
                "EST",
                "EST5EDT",
                "Egypt",
                "Eire",
                "Etc/GMT",
                "Etc/GMT+0",
                "Etc/GMT+1",
                "Etc/GMT+10",
                "Etc/GMT+11",
                "Etc/GMT+12",
                "Etc/GMT+2",
                "Etc/GMT+3",
                "Etc/GMT+4",
                "Etc/GMT+5",
                "Etc/GMT+6",
                "Etc/GMT+7",
                "Etc/GMT+8",
                "Etc/GMT+9",
                "Etc/GMT-0",
                "Etc/GMT-1",
                "Etc/GMT-10",
                "Etc/GMT-11",
                "Etc/GMT-12",
                "Etc/GMT-13",
                "Etc/GMT-14",
                "Etc/GMT-2",
                "Etc/GMT-3",
                "Etc/GMT-4",
                "Etc/GMT-5",
                "Etc/GMT-6",
                "Etc/GMT-7",
                "Etc/GMT-8",
                "Etc/GMT-9",
                "Etc/GMT0",
                "Etc/Greenwich",
                "Etc/UCT",
                "Etc/UTC",
                "Etc/Universal",
                "Etc/Zulu",
                "Europe/Belfast",
                "Europe/Kyiv",
                "Europe/Nicosia",
                "Europe/Tiraspol",
                "Factory",
                "GB",
                "GB-Eire",
                "GMT",
                "GMT+0",
                "GMT-0",
                "GMT0",
                "Greenwich",
                "HST",
                "Hongkong",
                "Iceland",
                "Iran",
                "Israel",
                "Jamaica",
                "Japan",
                "Kwajalein",
                "Libya",
                "MET",
                "MST",
                "MST7MDT",
                "Mexico/BajaNorte",
                "Mexico/BajaSur",
                "Mexico/General",
                "NZ",
                "NZ-CHAT",
                "Navajo",
                "PRC",
                "PST8PDT",
                "Pacific/Chuuk",
                "Pacific/Kanton",
                "Pacific/Pohnpei",
                "Pacific/Samoa",
                "Pacific/Yap",
                "Poland",
                "Portugal",
                "ROC",
                "ROK",
                "Singapore",
                "Turkey",
                "UCT",
                "US/Alaska",
                "US/Aleutian",
                "US/Arizona",
                "US/Central",
                "US/East-Indiana",
                "US/Eastern",
                "US/Hawaii",
                "US/Indiana-Starke",
                "US/Michigan",
                "US/Mountain",
                "US/Pacific",
                "US/Samoa",
                "UTC",
                "Universal",
                "W-SU",
                "WET",
                "Zulu"
            ]).sort ();
        })
        .onValidate (function (ctx)
        {
            return !!~Self.TIMEZONES.indexOf (ctx.value);
        })
    ;
};
